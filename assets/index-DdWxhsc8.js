const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/codemirror-BsN7ScNL.js","assets/vendor-faDOVzZr.js","assets/react-vendor-CIuL7Rgb.js","assets/SearchWidget-Dn0zAwds.js","assets/LoadingSpinner-DNlfWoUu.js","assets/KeyboardShortcutsModal-D-RBZB2B.js","assets/SettingsPanel-B-YE8La4.js"])))=>i.map(i=>d[i]);
import{j as s,C as ve,L as Ce,r as n,S as ee,U as ke,a as _e,D as Ne,b as Ee,M as Le,c as Re,d as Me,e as Oe,T as Te,R as C,n as m,F as Ie,f as Ae}from"./react-vendor-CIuL7Rgb.js";import{_ as y,f as te,a as De}from"./formatters-D8siIs6c.js";import{A as J,B as Fe,C as z,R as We,D as Pe}from"./codemirror-BsN7ScNL.js";import"./vendor-faDOVzZr.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=r(l);fetch(l.href,d)}})();const Ve=[{value:"json",label:"JSON"},{value:"xml",label:"XML"},{value:"html",label:"HTML"},{value:"css",label:"CSS"},{value:"yaml",label:"YAML"}],Ue=({language:t,onChange:c})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{className:"w-5 h-5 text-slate-400"}),s.jsx("select",{value:t,onChange:r=>c(r.target.value),className:"bg-slate-800 text-slate-200 text-sm px-3 py-1.5 rounded-lg border border-slate-700 hover:border-slate-600 focus:outline-none focus:border-indigo-500 cursor-pointer",title:"Select Language",children:Ve.map(r=>s.jsx("option",{value:r.value,children:r.label},r.value))})]}),He=({indent:t,onChange:c})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"w-4 h-4 text-slate-400"}),s.jsxs("select",{value:t,onChange:r=>c(r.target.value==="tab"?"tab":Number(r.target.value)),className:"bg-slate-800 text-slate-200 text-sm px-3 py-1.5 rounded-lg border border-slate-700 hover:border-slate-600 focus:outline-none focus:border-indigo-500 cursor-pointer",title:"Indentation",children:[s.jsx("option",{value:2,children:"2 Spaces"}),s.jsx("option",{value:4,children:"4 Spaces"}),s.jsx("option",{value:"tab",children:"Tab"})]})]}),$e=({language:t,indent:c,isDarkMode:r,onLanguageChange:i,onIndentChange:l,onFormat:d,onMinify:f,onClear:L,onToggleSearch:S,onCopy:N,onDownload:g,onFileUpload:k,onToggleTheme:w,onOpenSettings:v,isSearchVisible:_,hasContent:M})=>{const u=n.useRef(null),O=b=>{const V=b.target.files?.[0];V&&k(V),u.current&&(u.current.value="")};return s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-900 dark:bg-slate-900 bg-white border-b border-slate-800 dark:border-slate-800 border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(ee,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white dark:text-white text-gray-900",children:"Markup Beautifier"}),s.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-400 text-gray-600",children:"Format JSON & XML with ease"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ue,{language:t,onChange:i}),s.jsx(He,{indent:c,onChange:l}),s.jsx("div",{className:"h-6 w-px bg-slate-700"}),s.jsx("input",{ref:u,type:"file",accept:".json,.xml,.txt",onChange:O,className:"hidden"}),s.jsx("button",{onClick:()=>u.current?.click(),className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg transition-all",title:"Upload File",children:s.jsx(ke,{className:"w-5 h-5"})}),s.jsx("button",{onClick:N,disabled:!M,className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:"Copy to Clipboard",children:s.jsx(_e,{className:"w-5 h-5"})}),s.jsx("button",{onClick:g,disabled:!M,className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:"Download File",children:s.jsx(Ne,{className:"w-5 h-5"})}),s.jsx("button",{onClick:w,className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg transition-all",title:"Toggle Theme",children:r?s.jsx(Ee,{className:"w-5 h-5"}):s.jsx(Le,{className:"w-5 h-5"})}),s.jsx("button",{onClick:v,className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg transition-all",title:"Settings",children:s.jsx(Re,{className:"w-5 h-5"})}),s.jsx("button",{onClick:S,className:`p-2 rounded-lg transition-all ${_?"bg-indigo-600 text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,title:"Toggle Search (Ctrl+F)",children:s.jsx(Me,{className:"w-5 h-5"})}),s.jsxs("button",{onClick:d,disabled:!M,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all font-medium disabled:opacity-30 disabled:cursor-not-allowed",title:"Format (Ctrl+B)",children:[s.jsx(ee,{className:"w-4 h-4"}),"Beautify"]}),s.jsxs("button",{onClick:f,disabled:!M,className:"flex items-center gap-2 px-3 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-medium disabled:opacity-30 disabled:cursor-not-allowed",title:"Minify",children:[s.jsx(Oe,{className:"w-4 h-4"}),"Minify"]}),s.jsx("button",{onClick:L,className:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-800 rounded-lg transition-all",title:"Clear",children:s.jsx(Te,{className:"w-5 h-5"})})]})]})},ze=({value:t,language:c,onChange:r,onPaste:i,matches:l,currentMatchIndex:d,isDarkMode:f,fontSize:L,wordWrap:S})=>{const N=C.useRef(null),g=C.useRef(null),[k,w]=C.useState("100%"),[v,_]=C.useState(()=>J());C.useEffect(()=>{const u=()=>{if(g.current){const b=g.current.getBoundingClientRect();w(`${b.height}px`)}};u();const O=new ResizeObserver(u);return g.current&&O.observe(g.current),()=>O.disconnect()},[]),C.useEffect(()=>{switch(c){case"json":_(J());break;case"xml":_(Fe());break;case"html":y(()=>import("./codemirror-BsN7ScNL.js").then(u=>u.H),__vite__mapDeps([0,1,2])).then(u=>{_(u.html())});break;case"css":y(()=>import("./codemirror-BsN7ScNL.js").then(u=>u.F),__vite__mapDeps([0,1,2])).then(u=>{_(u.css())});break;case"yaml":y(()=>import("./codemirror-BsN7ScNL.js").then(u=>u.G),__vite__mapDeps([0,1,2])).then(u=>{_(u.javascript())});break;default:_(J())}},[c]);const M=n.useMemo(()=>{const u=z.domEventHandlers({paste(O){const b=O.clipboardData?.getData("text");return b&&i(b),!1}});return[v,u,z.theme({"&":{fontSize:`${L}px`},".cm-content":{fontFamily:'Monaco, Menlo, "Ubuntu Mono", Consolas, "source-code-pro", monospace'},".cm-search-match":{backgroundColor:f?"rgba(251, 191, 36, 0.25)":"rgba(251, 191, 36, 0.15)",outline:`2px solid ${f?"rgba(251, 191, 36, 0.6)":"rgba(217, 119, 6, 0.8)"}`,borderRadius:"2px",padding:"1px 2px"},".cm-search-match-active":{backgroundColor:f?"rgba(251, 191, 36, 0.5)":"rgba(251, 191, 36, 0.35)",outline:`3px solid ${f?"rgb(251, 191, 36)":"rgb(217, 119, 6)"}`,borderRadius:"2px",padding:"1px 2px",fontWeight:"600"}}),S?z.lineWrapping:[]]},[v,i,f,L,S]);return C.useEffect(()=>{if(!N.current||l.length===0)return;const u=l[d];u&&N.current.dispatch({selection:{anchor:u.from,head:u.to},scrollIntoView:!0,effects:z.scrollIntoView(u.from,{y:"center"})})},[d,l]),s.jsx("div",{ref:g,className:"flex-1 min-h-0 overflow-hidden",children:s.jsx(We,{value:t,height:k,theme:f?Pe:void 0,extensions:M,onChange:r,onCreateEditor:u=>{N.current=u},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightSpecialChars:!0,foldGutter:!0,drawSelection:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,rectangularSelection:!0,crosshairCursor:!0,highlightActiveLine:!0,highlightSelectionMatches:!0,closeBracketsKeymap:!0,searchKeymap:!0,foldKeymap:!0,completionKeymap:!0,lintKeymap:!0}})})},Ke=({characterCount:t,lineCount:c,wordCount:r,language:i})=>s.jsxs("div",{className:"flex items-center justify-between px-6 py-2 bg-slate-900 dark:bg-slate-900 bg-gray-50 border-t border-slate-800 dark:border-slate-800 border-gray-200 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-slate-400 dark:text-slate-400 text-gray-600",children:["Characters: ",s.jsx("span",{className:"text-slate-200 dark:text-slate-200 text-gray-900 font-medium",children:t.toLocaleString()})]}),s.jsxs("div",{className:"text-slate-400 dark:text-slate-400 text-gray-600",children:["Words: ",s.jsx("span",{className:"text-slate-200 dark:text-slate-200 text-gray-900 font-medium",children:r.toLocaleString()})]}),s.jsxs("div",{className:"text-slate-400 dark:text-slate-400 text-gray-600",children:["Lines: ",s.jsx("span",{className:"text-slate-200 dark:text-slate-200 text-gray-900 font-medium",children:c.toLocaleString()})]})]}),s.jsxs("div",{className:"text-slate-400 dark:text-slate-400 text-gray-600",children:["Language: ",s.jsx("span",{className:"text-slate-200 dark:text-slate-200 text-gray-900 font-medium uppercase",children:i})]})]});function X(t,c,r=!1,i=!1){if(!c)return[];const l=[];let d;try{if(i)d=new RegExp(c,r?"g":"gi");else{const L=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");d=new RegExp(L,r?"g":"gi")}let f;for(;(f=d.exec(t))!==null;)l.push({from:f.index,to:f.index+f[0].length})}catch{return[]}return l}function Be(t,c,r,i=!1,l=!1){if(!c)return t;try{let d;if(l)d=new RegExp(c,i?"g":"gi");else{const f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");d=new RegExp(f,i?"g":"gi")}return t.replace(d,r)}catch(d){return console.error("Replace error:",d),t}}function se(t,c,r,i,l){if(!c||i<0||i>=l.length)return{content:t,newIndex:i};const d=l[i],f=t.substring(0,d.from),L=t.substring(d.to),S=f+r+L,N=r.length-(d.to-d.from),g=l.map((w,v)=>v<=i?w:{from:w.from+N,to:w.to+N}),k=i<g.length-1?i:Math.max(0,i-1);return{content:S,newIndex:k}}function Je(t){n.useEffect(()=>{const c=r=>{const l=navigator.platform.toUpperCase().indexOf("MAC")>=0?r.metaKey:r.ctrlKey;l&&r.key==="f"&&(r.preventDefault(),t.onToggleSearch()),l&&r.key==="b"&&(r.preventDefault(),t.onFormat()),l&&r.key==="z"&&!r.shiftKey&&(r.preventDefault(),t.onUndo?.()),(l&&r.shiftKey&&r.key==="z"||l&&r.key==="y")&&(r.preventDefault(),t.onRedo?.()),r.key==="Escape"&&t.onClearSearch(),r.key==="?"&&!l&&!r.shiftKey&&t.onToggleHelp?.()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t])}const Xe=n.lazy(()=>y(()=>import("./SearchWidget-Dn0zAwds.js"),__vite__mapDeps([3,2,1,0])).then(t=>({default:t.SearchWidget}))),Ye=n.lazy(()=>y(()=>import("./LoadingSpinner-DNlfWoUu.js"),__vite__mapDeps([4,2,1,0])).then(t=>({default:t.LoadingSpinner}))),Ge=n.lazy(()=>y(()=>import("./KeyboardShortcutsModal-D-RBZB2B.js"),__vite__mapDeps([5,2,1,0])).then(t=>({default:t.KeyboardShortcutsModal}))),Ze=n.lazy(()=>y(()=>import("./SettingsPanel-B-YE8La4.js"),__vite__mapDeps([6,2,1,0])).then(t=>({default:t.SettingsPanel})));function qe(){const[t,c]=n.useState(""),[r,i]=n.useState("json"),[l,d]=n.useState(!1),[f,L]=n.useState(!1),[S,N]=n.useState(2),[g,k]=n.useState(""),[w,v]=n.useState(""),[_,M]=n.useState(!1),[u,O]=n.useState(!1),[b,V]=n.useState(!1),[T,ae]=n.useState(!1),[I,D]=n.useState(0),[re,U]=n.useState(!1),[A,K]=n.useState(!0),[H,Y]=n.useState(14),[$,G]=n.useState(!1),[E,W]=n.useState([""]),[R,F]=n.useState(0);C.useEffect(()=>{const e=localStorage.getItem("markup-beautifier-content"),a=localStorage.getItem("markup-beautifier-language"),h=localStorage.getItem("markup-beautifier-indent"),o=localStorage.getItem("markup-beautifier-theme"),x=localStorage.getItem("markup-beautifier-fontSize"),je=localStorage.getItem("markup-beautifier-wordWrap");e&&(c(e),W([e])),a&&i(a),h&&N(h),o==="light"&&K(!1),x&&Y(Number(x)),je==="true"&&G(!0)},[]),C.useEffect(()=>{document.documentElement.setAttribute("data-theme",A?"dark":"light")},[A]),C.useEffect(()=>{t&&localStorage.setItem("markup-beautifier-content",t),localStorage.setItem("markup-beautifier-language",r),localStorage.setItem("markup-beautifier-indent",String(S)),localStorage.setItem("markup-beautifier-theme",A?"dark":"light"),localStorage.setItem("markup-beautifier-fontSize",String(H)),localStorage.setItem("markup-beautifier-wordWrap",String($))},[t,r,S,A,H,$]);const ne=n.useMemo(()=>t?t.split(`
`).length:0,[t]),oe=n.useMemo(()=>t.trim()?t.trim().split(/\s+/).filter(e=>e.length>0).length:0,[t]),p=n.useMemo(()=>X(t,g,b,T),[t,g,b,T]),j=n.useCallback(e=>{c(e);const a=E.slice(0,R+1);a.push(e),W(a),F(a.length-1)},[E,R]);C.useEffect(()=>{p.length>0&&I>=p.length&&D(0)},[p.length,I]);const Z=n.useCallback(()=>S==="tab"?"	":S===2?2:4,[S]),q=n.useCallback(async()=>{if(!t.trim()){m.error("Nothing to format");return}U(!0);try{const e=Z();let a;switch(r){case"json":a=te(t,e);break;case"xml":a=De(t,typeof e=="number"?" ".repeat(e):e);break;case"html":{const{formatHTML:h}=await y(async()=>{const{formatHTML:o}=await import("./formatters-D8siIs6c.js").then(x=>x.b);return{formatHTML:o}},[]);a=h(t,typeof e=="number"?" ".repeat(e):e);break}case"css":{const{formatCSS:h}=await y(async()=>{const{formatCSS:o}=await import("./formatters-D8siIs6c.js").then(x=>x.b);return{formatCSS:o}},[]);a=h(t,typeof e=="number"?" ".repeat(e):e);break}case"yaml":{const{formatYAML:h}=await y(async()=>{const{formatYAML:o}=await import("./formatters-D8siIs6c.js").then(x=>x.b);return{formatYAML:o}},[]);a=await h(t,typeof e=="number"?e:2);break}default:a=te(t,e)}j(a),m.success(`${r.toUpperCase()} formatted successfully!`)}catch(e){m.error(e.message,{duration:5e3})}finally{U(!1)}},[t,r,Z,j]),le=n.useCallback(async()=>{if(!t.trim()){m.error("Nothing to minify");return}U(!0);try{let e;switch(r){case"json":{const{minifyJSON:a}=await y(async()=>{const{minifyJSON:h}=await import("./formatters-D8siIs6c.js").then(o=>o.b);return{minifyJSON:h}},[]);e=a(t);break}case"xml":{const{minifyXML:a}=await y(async()=>{const{minifyXML:h}=await import("./formatters-D8siIs6c.js").then(o=>o.b);return{minifyXML:h}},[]);e=a(t);break}case"html":{const{minifyHTML:a}=await y(async()=>{const{minifyHTML:h}=await import("./formatters-D8siIs6c.js").then(o=>o.b);return{minifyHTML:h}},[]);e=a(t);break}case"css":{const{minifyCSS:a}=await y(async()=>{const{minifyCSS:h}=await import("./formatters-D8siIs6c.js").then(o=>o.b);return{minifyCSS:h}},[]);e=a(t);break}case"yaml":{const{minifyYAML:a}=await y(async()=>{const{minifyYAML:h}=await import("./formatters-D8siIs6c.js").then(o=>o.b);return{minifyYAML:h}},[]);e=await a(t);break}default:{const{minifyJSON:a}=await y(async()=>{const{minifyJSON:h}=await import("./formatters-D8siIs6c.js").then(o=>o.b);return{minifyJSON:h}},[]);e=a(t)}}j(e),m.success(`${r.toUpperCase()} minified successfully!`)}catch(e){m.error(e.message,{duration:5e3})}finally{U(!1)}},[t,r,j]),ie=n.useCallback(()=>{if(R>0){const e=R-1;F(e),c(E[e])}},[E,R]),ce=n.useCallback(()=>{if(R<E.length-1){const e=R+1;F(e),c(E[e])}},[E,R]),de=n.useCallback(()=>{j(""),k(""),v(""),D(0),m.success("Editor cleared")},[j]),Q=n.useCallback(()=>{M(e=>!e),_||(k(""),v(""),O(!1))},[_]),ue=n.useCallback(()=>{k(""),v(""),D(0)},[]),P=C.useRef(null);C.useEffect(()=>{try{return P.current=new Worker(new URL("/markup/assets/format.worker-BFFel-mJ.js",import.meta.url),{type:"module"}),P.current.onmessage=e=>{const{type:a,content:h,language:o}=e.data;a==="success"&&(j(h),m.success(`${o.toUpperCase()} formatted!`))},()=>{P.current?.terminate()}}catch(e){console.error("Failed to initialize worker:",e),m.error("Worker initialization failed. Some features may be disabled.")}},[]);const he=n.useCallback(e=>{const a=e.trim();if(a.length>1e6){a.startsWith("{")||a.startsWith("[")?(i("json"),m("Large JSON detected. Click Beautify to format.",{icon:"⚠️"})):a.startsWith("<")&&(i("xml"),m("Large XML detected. Click Beautify to format.",{icon:"⚠️"}));return}let o=null;a.startsWith("{")||a.startsWith("[")?(o="json",i("json")):a.startsWith("<?xml")||a.startsWith("<")&&a.includes("</")?(o="xml",i("xml")):a.startsWith("<!DOCTYPE")||a.startsWith("<html")||a.startsWith("<div")?(o="html",i("html")):a.includes("{")&&a.includes("}")&&a.includes(":")?a.match(/[a-zA-Z-]+\s*\{/)?(o="css",i("css")):(o="json",i("json")):a.includes(":")&&!a.includes("{")&&!a.includes("<")&&(o="yaml",i("yaml")),(o==="json"||o==="xml")&&P.current&&(P.current.postMessage({type:"format",content:e,language:o,indent:S,id:Date.now()}),m("Formatting...",{icon:"⏳",duration:1e3}))},[]),me=n.useCallback(()=>{p.length>0&&D(e=>(e+1)%p.length)},[p.length]),fe=n.useCallback(()=>{p.length>0&&D(e=>(e-1+p.length)%p.length)},[p.length]),ge=n.useCallback(()=>{if(!g||p.length===0)return;const e=se(t,g,w,I,p);j(e.content);const a=X(e.content,g,b,T);D(Math.min(I,a.length-1)),a.length===0?(m.success("Replaced (no more matches)"),k(""),v("")):m.success(`Replaced (${a.length} remaining)`)},[t,g,w,I,p,b,T,j]),pe=n.useCallback(()=>{if(!g||p.length===0)return;const e=se(t,g,w,I,p);j(e.content);const a=X(e.content,g,b,T);D(Math.min(e.newIndex,a.length-1)),a.length===0?(m.success("Replaced (no more matches)"),k(""),v("")):m.success(`Replaced (${a.length} remaining)`)},[t,g,w,I,p,b,T,j]),xe=n.useCallback(()=>{if(!g)return;const e=Be(t,g,w,b,T);j(e);const a=p.length;m.success(`Replaced ${a} occurrence${a!==1?"s":""}`),k(""),v("")},[t,g,w,b,T,p.length,j]),B=n.useCallback(async e=>{const a=new FileReader;a.onload=h=>{const o=h.target?.result;if(o){j(o);const x=o.trim();x.startsWith("{")||x.startsWith("[")?i("json"):x.startsWith("<")&&i("xml"),m.success("File loaded successfully!")}},a.onerror=()=>{m.error("Failed to read file")},a.readAsText(e)},[j]),be=n.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]),ye=n.useCallback(e=>{e.preventDefault(),e.stopPropagation();const h=Array.from(e.dataTransfer.files).find(o=>o.name.endsWith(".json")||o.name.endsWith(".xml")||o.name.endsWith(".txt"));h?B(h):m.error("Please drop a JSON or XML file")},[B]),Se=n.useCallback(async()=>{if(!t.trim()){m.error("Nothing to copy");return}try{await navigator.clipboard.writeText(t),m.success("Copied to clipboard!")}catch{m.error("Failed to copy to clipboard")}},[t]),we=n.useCallback(()=>{if(!t.trim()){m.error("Nothing to download");return}try{const e=r==="json"?"json":"xml",a=r==="json"?"application/json":"application/xml",h=new Blob([t],{type:a}),o=URL.createObjectURL(h),x=document.createElement("a");x.href=o,x.download=`formatted.${e}`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(o),m.success("File downloaded!")}catch{m.error("Failed to download file")}},[t,r]);return C.useEffect(()=>{if(t!==E[R]&&R===E.length-1){const e=[...E,t];W(e),F(e.length-1),e.length>50&&(W(e.slice(-50)),F(49))}},[t]),Je({onFormat:q,onToggleSearch:Q,onClearSearch:ue,onUndo:ie,onRedo:ce,onToggleHelp:()=>d(e=>!e)}),console.log("App version: 2025-12-29 15:08"),s.jsxs("div",{className:`h-screen w-screen flex flex-col ${A?"bg-slate-900":"bg-gray-50"}`,onDragOver:be,onDrop:ye,children:[s.jsx(Ie,{position:"top-right",toastOptions:{style:{background:"#1e293b",color:"#fff",border:"1px solid #334155"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),s.jsx($e,{language:r,indent:S,isDarkMode:A,onLanguageChange:i,onIndentChange:N,onFormat:q,onMinify:le,onClear:de,onToggleSearch:Q,onCopy:Se,onDownload:we,onFileUpload:B,onToggleTheme:()=>K(e=>!e),onOpenSettings:()=>L(!0),isSearchVisible:_,hasContent:!!t.trim()}),_&&s.jsx("div",{className:"relative",children:s.jsx(n.Suspense,{fallback:s.jsx("div",{className:"bg-slate-800 px-4 py-3 border-b border-slate-700",children:"Loading search..."}),children:s.jsx(Xe,{searchTerm:g,replaceTerm:w,isReplaceVisible:u,caseSensitive:b,useRegex:T,currentMatch:I,totalMatches:p.length,onSearchChange:k,onReplaceChange:v,onToggleReplace:()=>O(e=>!e),onToggleCaseSensitive:()=>V(e=>!e),onToggleRegex:()=>ae(e=>!e),onNext:me,onPrevious:fe,onReplaceOne:ge,onReplaceOneAndNext:pe,onReplaceAll:xe,onClose:()=>M(!1)})})}),s.jsx(ze,{value:t,language:r,isDarkMode:A,fontSize:H,wordWrap:$,onChange:e=>{if(c(e),R===E.length-1){const a=[...E,e];W(a),F(a.length-1),a.length>50&&(W(a.slice(-50)),F(49))}},onPaste:he,matches:p,currentMatchIndex:I}),s.jsx(Ke,{characterCount:t.length,lineCount:ne,wordCount:oe,language:r}),s.jsx(n.Suspense,{fallback:null,children:s.jsx(Ye,{isLoading:re})}),s.jsx(n.Suspense,{fallback:null,children:s.jsx(Ge,{isOpen:l,onClose:()=>d(!1)})}),s.jsx(n.Suspense,{fallback:null,children:s.jsx(Ze,{isOpen:f,onClose:()=>L(!1),language:r,indent:S,isDarkMode:A,onLanguageChange:i,onIndentChange:N,onThemeChange:K,fontSize:H,wordWrap:$,onFontSizeChange:Y,onWordWrapChange:G})})]})}class Qe extends n.Component{state={hasError:!1,error:null};static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,r){console.error("Uncaught error:",c,r)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white p-4",children:s.jsxs("div",{className:"max-w-lg w-full bg-slate-800 rounded-lg p-6 shadow-xl border border-red-500/50",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-slate-300 mb-4",children:"An error occurred while rendering the application."}),s.jsx("div",{className:"bg-slate-950 p-4 rounded overflow-auto max-h-60 mb-6",children:s.jsx("code",{className:"text-sm font-mono text-red-400",children:this.state.error?.toString()})}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition-colors",children:"Reload Application"})]})}):this.props.children}}Ae.createRoot(document.getElementById("root")).render(s.jsx(n.StrictMode,{children:s.jsx(Qe,{children:s.jsx(qe,{})})}));
